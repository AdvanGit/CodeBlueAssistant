@model IEnumerable<Entry>

@{
	ViewData["Title"] = "Записи и заявки";
	Layout = "_Navbar";
}


<div>
	@if (Model.Count() == 0)
	{
		<div>Записей не найдено</div>
	}
	else
	{
		<table class="table rounded shadow mb-0">
			<thead class="thead-dark">
				<tr>
					<th>#</th>
					<th>Дата/Время</th>
					<th>Специалист</th>
					<th>Адрес</th>
					<th>Статус заявки</th>
				</tr>
			</thead>
			<tbody>
				@foreach(Entry entry in Model)
				{
					<tr class="@(entry.EntryStatus != EntryStatus.Ожидание ? "text-muted bg-light" : "")">
						<th scope="row">@entry.Id</th>
						<td>
							<h5 class="p-0 m-0">@entry.TargetDateTime.ToShortTimeString()</h5>
							<span class="text-muted">@entry.TargetDateTime.ToString("dd MMMM, ddd")</span>
						</td>
						<td>
							<h6 class="p-0 m-0">@entry.DoctorDestination.GetShortName()</h6>
							<span class="text-muted">@entry.DoctorDestination.Department.Title.Title</span>
						</td>
						<td>
							@entry.DoctorDestination.Department.Adress.ToShortString(), 
							кабинет: @entry.DoctorDestination.Cabinet
						</td>
						<td>
							@entry.EntryStatus <br />
							@if (entry.EntryStatus == EntryStatus.Ожидание)
							{
								<button class="btn btn-link m-0 p-0">(Отменить)</button>
							}
						</td>
					</tr>
				}
			</tbody>
		</table>

	}
	
</div>